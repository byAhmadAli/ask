<!DOCTYPE html>
<html lang="en">
  <head>
    <title>test</title>
  </head>

  <body>
    <input placeholder="user id ..." id="user" />
    <button onClick="join()">join</button>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.slim.dev.js"></script>
    <script>
      var AllSocket = io();
      var room;
      AllSocket.on('show_notification', function(data) {
          console.log(data)
      })
      AllSocket.on('online', function(data){ 
        room = data.room;
        console.log(data) 
      });

      function join(){
        if(room) AllSocket.emit('leave', room);
        AllSocket.emit('join', document.getElementById('user').value);
      }
    </script>
  </body>
</html>
